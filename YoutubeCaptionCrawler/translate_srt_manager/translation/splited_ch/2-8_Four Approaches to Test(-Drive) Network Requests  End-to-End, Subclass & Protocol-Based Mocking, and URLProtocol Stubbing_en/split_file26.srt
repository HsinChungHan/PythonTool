647
00:23:34,000 --> 00:23:36,466
如果你子類別化了URLProtocol類別

648
00:23:36,466 --> 00:23:37,900
首先，

649
00:23:37,900 --> 00:23:41,033
有一個類方法canInit

650
00:23:41,033 --> 00:23:44,933
帶有request且返回一個布林值

651
00:23:44,933 --> 00:23:47,833
所以，如果我們在這個方法中返回真，

652
00:23:47,833 --> 00:23:49,266
意味著我們可以處理這個請求

653
00:23:49,266 --> 00:23:50,933
現在我們有責任去

654
00:23:50,933 --> 00:23:52,400
完成請求是成功還是失敗

655
00:23:52,400 --> 00:23:54,466
也就說我們攔截了這個請求

656
00:23:54,466 --> 00:23:55,733
我們對它的命運有掌控權，

657
00:23:55,733 --> 00:23:59,100
對吧？

658
00:23:59,100 --> 00:24:00,700
我們如何知道我們可不可以處理

659
00:24:00,700 --> 00:24:02,766
這個請求呢？我們可以獲取URL

660
00:24:02,766 --> 00:24:05,100
從請求中獲取

661
00:24:05,100 --> 00:24:08,300
如果有的話，如果沒有

662
00:24:08,300 --> 00:24:10,700
在請求中的URL，我們就不能處理它

663
00:24:10,700 --> 00:24:11,833
所以讓我們返回假吧

664
00:24:11,833 --> 00:24:14,766
否則，我們需要檢查是否有一個

665
00:24:14,766 --> 00:24:15,333
stub

666
00:24:15,333 --> 00:24:18,766
對於那個URL，所以我們可以返回真

667
00:24:18,766 --> 00:24:21,733
如果我們有的話，否則我們返回假。所以如果

668
00:24:21,733 --> 00:24:22,533
這個是nil