92
00:03:04,000 --> 00:03:06,066
我們創建一個資料任務，

93
00:03:06,066 --> 00:03:06,466
對的，

94
00:03:06,466 --> 00:03:09,266
使用正確的URL，所以我們可以有一個斷言

95
00:03:09,266 --> 00:03:10,533
像是，

96
00:03:10,533 --> 00:03:14,066
session.receivedURLs

97
00:03:14,066 --> 00:03:17,333
只應該有一個URL，

98
00:03:17,333 --> 00:03:20,400
對，就是這樣。我們需要一個URL，

99
00:03:20,400 --> 00:03:24,300
這個URL可以是任何的URL，所以我們需要一個session，

100
00:03:24,300 --> 00:03:25,200
對。

101
00:03:27,833 --> 00:03:29,266
但是URLSession並沒有

102
00:03:29,266 --> 00:03:31,333
receivedURLs，因為這是

103
00:03:31,333 --> 00:03:33,666
一個測試的細節。對，我們正在間諜，所以我們

104
00:03:33,666 --> 00:03:34,633
需要創建

105
00:03:34,633 --> 00:03:39,100
我們自己的URLSessionSpy，對。

106
00:03:39,100 --> 00:03:42,400
所以URLSessionSpy這是一個子類別

107
00:03:42,400 --> 00:03:45,433
的URLSession。我們可以從這裡開始。我們要有一個received

108
00:03:45,433 --> 00:03:46,700
URLS的數組,然後開始時為空的。

109
00:03:46,700 --> 00:03:50,066
每次我們調用dataTask，

110
00:03:50,066 --> 00:03:52,866
跟著URL之後，

111
00:03:52,866 --> 00:03:53,500
及

112
00:03:53,500 --> 00:03:56,766
completion block之後，我們將會捕捉

113
00:03:56,766 --> 00:03:59,733
傳送的URL。就這樣，我們已經做完了，

114
00:03:59,733 --> 00:04:00,000
許多

115
00:04:00,000 --> 00:04:03,033
次。我們已經捕捉到了URL，

116
00:04:03,033 --> 00:04:06,933
對，但現在我們需要思考
