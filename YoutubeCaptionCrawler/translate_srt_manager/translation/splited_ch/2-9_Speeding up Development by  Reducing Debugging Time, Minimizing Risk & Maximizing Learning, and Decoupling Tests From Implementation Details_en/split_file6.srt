143
00:05:03,166 --> 00:05:06,400
我們可以測試該HTTP方法

144
00:05:06,400 --> 00:05:09,666
該請求是否為GET，讓我們來實現

145
00:05:09,666 --> 00:05:10,000
這個

146
00:05:10,000 --> 00:05:17,600
觀察者，觀察請求

147
00:05:17,600 --> 00:05:21,033
所以我們可以傳遞一個觀察者閉包

148
00:05:21,033 --> 00:05:23,166
這將會轉發所有的

149
00:05:23,166 --> 00:05:26,300
請求

150
00:05:26,300 --> 00:05:29,333
這是一個函數，並且我們可以捕捉

151
00:05:29,333 --> 00:05:34,133
閉包，所以它需要是逃逸的

152
00:05:34,133 --> 00:05:37,600
好的，我們可以定義我們的靜態

153
00:05:37,600 --> 00:05:40,700
變量 request observer，我們甚至可以

154
00:05:40,700 --> 00:05:41,733
使其為選擇性的

155
00:05:41,733 --> 00:05:44,300
就像我們對stub所做的那樣，不要

156
00:05:44,300 --> 00:05:45,433
忘記

157
00:05:45,433 --> 00:05:47,033
在我們停止時將其設定為nil

158
00:05:47,033 --> 00:05:49,166
攔截請求

159
00:05:49,166 --> 00:05:52,466
並且每當發起請求時

160
00:05:52,466 --> 00:05:54,233
我們可以調用觀察者並傳遞

161
00:05:54,233 --> 00:05:56,800
請求，就可以了

162
00:05:56,800 --> 00:05:59,733
好的，編譯器很高興，但我們需要

163
00:05:59,733 --> 00:06:00,700
定義一個

164
00:06:00,700 --> 00:06:03,333
URL，所以我猜我們可以直接複製上一個測試中的

165
00:06:03,333 --> 00:06:05,166
從先前的測試中

166
00:06:05,166 --> 00:06:06,533
並且由於該區塊會被呼叫

167
00:06:06,533 --> 00:06:08,400
異步執行，這樣比較好