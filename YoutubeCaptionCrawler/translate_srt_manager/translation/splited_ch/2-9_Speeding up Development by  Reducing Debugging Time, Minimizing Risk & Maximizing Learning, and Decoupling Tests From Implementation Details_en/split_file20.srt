484
00:17:54,300 --> 00:17:55,833
我們在哪裡失敗

485
00:17:55,833 --> 00:17:58,066
否則這些測試就失去了

486
00:17:58,066 --> 00:17:59,433
它們的重要性

487
00:17:59,433 --> 00:18:02,233
並且由於makeSUT也期待

488
00:18:02,233 --> 00:18:03,266
檔案和行數

489
00:18:03,266 --> 00:18:05,266
以在

490
00:18:05,266 --> 00:18:07,200
正確地地方顯示失敗的斷言，我們最好將這個放入一個

491
00:18:07,200 --> 00:18:08,300
變數裡

492
00:18:08,300 --> 00:18:11,666
好，看起來像是我們需要的設置

493
00:18:11,666 --> 00:18:12,300
我們現在

494
00:18:12,300 --> 00:18:14,866
要重構測試來使用它

495
00:18:14,866 --> 00:18:16,400
所以在第一個測試

496
00:18:16,400 --> 00:18:18,533
我們無需再調用stub

497
00:18:18,533 --> 00:18:19,500
我們只需要獲取

498
00:18:19,500 --> 00:18:23,900
收到的錯誤

499
00:18:23,900 --> 00:18:27,433
當我們傳遞nil，nil和

500
00:18:27,433 --> 00:18:32,400
錯誤，然後我們可以保持斷言

501
00:18:32,400 --> 00:18:34,233
他們收到錯誤，但我們現在需要

502
00:18:34,233 --> 00:18:36,066
將其轉換為NSError，是的

503
00:18:36,066 --> 00:18:37,733
基本上它等於傳遞的

504
00:18:37,733 --> 00:18:38,933
錯誤，讓我們繼續給出

505
00:18:38,933 --> 00:18:41,433
更多可能的情況，例如說明請求

506
00:18:41,433 --> 00:18:42,000
錯誤

507
00:18:42,000 --> 00:18:44,400
很好，這與測試的名稱也相符

508
00:18:44,400 --> 00:18:45,333
對

509
00:18:45,333 --> 00:18:47,500
確切地說，失敗和請求結束了所以