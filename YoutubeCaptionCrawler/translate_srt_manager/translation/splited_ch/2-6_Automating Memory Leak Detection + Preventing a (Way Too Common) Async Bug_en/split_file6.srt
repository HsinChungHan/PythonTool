144
00:05:06,300 --> 00:05:08,300
我們在上一集中使用的，然後我們

145
00:05:08,300 --> 00:05:10,700
可以傳遞這個文件

146
00:05:10,700 --> 00:05:13,833
和那行到斷言

147
00:05:13,833 --> 00:05:17,433
好的，現在我們可以看到失敗的地方

148
00:05:17,433 --> 00:05:21,166
確切地在它發生的地方，很好

149
00:05:21,166 --> 00:05:23,900
但我們需要解決它，我想對於

150
00:05:23,900 --> 00:05:25,033
現在我們只是

151
00:05:25,033 --> 00:05:28,800
撤銷我們這裡的更改，讓我們運行測試

152
00:05:28,800 --> 00:05:32,233
是的，它通過了

153
00:05:32,233 --> 00:05:33,600
或我們應該為客戶端做檢查

154
00:05:33,600 --> 00:05:35,833
嗯，我認為是這樣

155
00:05:35,833 --> 00:05:38,233
好的，所以我們可以在這裡新增另一個弱引用

156
00:05:38,233 --> 00:05:40,133
到客戶端

157
00:05:40,133 --> 00:05:42,700
或我們也可以創建一個輔助函數 

158
00:05:42,700 --> 00:05:43,833
就像

159
00:05:43,833 --> 00:05:47,333
追蹤記憶體洩漏

160
00:05:47,333 --> 00:05:49,833
我們可以傳遞instance和它

161
00:05:49,833 --> 00:05:51,033
需要成為

162
00:05:51,033 --> 00:05:53,733
任何對象，讓我們傳遞文件和行

163
00:05:53,733 --> 00:05:54,300
同樣的

164
00:05:54,300 --> 00:05:57,666
所以我們可以將這邏輯移動到這個助手

165
00:05:57,666 --> 00:05:58,233
函數裡

166
00:05:58,233 --> 00:06:02,000
現在我們將實例變為弱引用

167
00:06:02,000 --> 00:06:04,533
現在我們可以運行sut和客戶端

168
00:06:04,533 --> 00:06:05,166
客戶端